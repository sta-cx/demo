<view class="container">
  <!-- å¤´éƒ¨åŒºåŸŸ -->
  <view class="header">
    <text class="title">ğŸ’ å›å¿†å½•</text>
    <view class="tabs">
      <button 
        class="tab-btn {{currentTab === 'weekly' ? 'active' : ''}}"
        bindtap="switchTab"
        data-tab="weekly"
        hover-class="btn-hover"
      >
        <text>ğŸ“… å‘¨æŠ¥</text>
      </button>
      <button 
        class="tab-btn {{currentTab === 'monthly' ? 'active' : ''}}"
        bindtap="switchTab"
        data-tab="monthly"
        hover-class="btn-hover"
      >
        <text>ğŸ“† æœˆæŠ¥</text>
      </button>
    </view>
  </view>

  <!-- å›å¿†å½•åˆ—è¡¨ -->
  <view class="memories-list" wx:if="{{memories.length > 0}}">
    <view 
      class="memory-card {{index % 3 === 0 ? 'love-animation' : ''}}" 
      wx:for="{{memories}}" 
      wx:key="id"
      bindtap="viewMemory" 
      data-id="{{item.id}}"
      hover-class="card-hover"
    >
      <image 
        class="memory-cover" 
        src="{{item.cover_image_url || '/images/default-memory.png'}}" 
        mode="aspectFill"
        lazy-load
      />
      <view class="memory-info">
        <text class="memory-title">{{item.title}}</text>
        <text class="memory-date">{{item.period_date}}</text>
        <view class="memory-stats">
          <view class="stat-item">
            <text>ğŸ’¬ {{item.stats.answer_count}}æ¡å›ç­”</text>
          </view>
          <view class="stat-item">
            <text>ğŸ˜Š {{item.stats.positive_count}}æ¡ç§¯æ</text>
          </view>
          <view class="stat-item" wx:if="{{item.stats.completion_rate}}">
            <text>ğŸ“ˆ {{item.stats.completion_rate}}%å®Œæˆ</text>
          </view>
        </view>
        <text class="memory-summary">{{item.summary}}</text>
      </view>
      <view class="memory-actions">
        <button 
          class="action-btn" 
          catchtap="shareMemory" 
          data-id="{{item.id}}"
          hover-class="btn-hover"
        >
          <text>ğŸ“¤ åˆ†äº«</text>
        </button>
        <button 
          class="action-btn" 
          catchtap="downloadMemory" 
          data-id="{{item.id}}"
          hover-class="btn-hover"
        >
          <text>ğŸ’¾ ä¿å­˜</text>
        </button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“–</text>
    <text class="empty-title">æš‚æ— å›å¿†å½•</text>
    <text class="empty-desc">å›ç­”æ›´å¤šé—®é¢˜åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆç²¾ç¾çš„å›å¿†å½•</text>
    <button class="btn btn-primary" bindtap="goToAnswer" style="margin-top: 40rpx;">
      <text>ğŸ’ å¼€å§‹è®°å½•</text>
    </button>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>æ­£åœ¨åŠ è½½å›å¿†å½•...</text>
  </view>
</view>